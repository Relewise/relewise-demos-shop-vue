import{f as r}from"./index-7eUIqBpx.js";class s{trackProductCategoryView(e){if(!r.tracking.value.enabled)return;r.getTracker().trackProductCategoryView({idPath:[e],user:r.user.value})}async trackProductView(e){if(!r.tracking.value.enabled)return;r.getTracker().trackProductView({productId:e,user:r.user.value})}async trackCart(e){if(!r.tracking.value.enabled)return;const t=r.getTracker(),a=this.mapLineItems(e),c=a.reduce((n,u)=>n+u.lineTotal,0);t.trackCart({lineItems:a,subtotal:{currency:r.defaultSettings.currency,amount:c},user:r.user.value})}async trackOrder(e){if(!r.tracking.value.enabled)return;const t=r.getTracker(),a=this.mapLineItems(e),c=a.reduce((n,u)=>n+u.lineTotal,0);await t.trackOrder({lineItems:a,subtotal:{currency:r.defaultSettings.currency,amount:c},user:r.user.value,orderNumber:crypto.randomUUID()})}mapLineItems(e){return e.map(t=>({productId:t.product.productId??"",quantity:t.quantity,lineTotal:t.quantity*(t.product.salesPrice??0)}))}}const l=new s;export{l as t};
