import{d as B,g as u,f as p,y as N,a as l,p as f,k as d,b as t,l as y,_ as z,e as i,i as w,z as A,A as C,B as V,q as P,C as h,o as s}from"./index-7eUIqBpx.js";import{t as k}from"./tracking.service-CmIdkNM9.js";import{_ as I}from"./Breadcrumb.vue_vue_type_script_setup_true_lang-Bf1atbWi.js";const O={key:0,class:"mb-10"},L={class:"flex gap-3"},$={class:"relative flex h-[275px] overflow-hidden bg-white p-3 rounded"},q={class:"bg-white py-4 px-6 rounded flex-grow"},E={class:"text-4xl mb-4 font-semibold"},T={key:0},F={key:1},R={class:"text-zinc-600"},U={class:"mt-6"},j={class:"mb-2 flex gap-2"},G={key:0,class:"rounded-full bg-black px-2 text-center text-sm font-medium text-white"},H={key:1,class:"rounded-full bg-black px-2 text-center text-sm font-medium text-white"},J={class:"text-lg font-semibold text-zinc-900 mr-1 leading-none"},K={key:0,class:"text-zinc-900 line-through"},M={class:"mb-10"},Q={class:""},ee=B({__name:"ProductDetails",setup(W){const r=u(""),e=u(null),b=C(),g=u(p.defaultSettings),v=u();async function x(){var a,c,n;const o=b.params.id;if(o&&!Array.isArray(o)){r.value=o,k.trackProductView(o);const m=new V(p.defaultSettings).setSelectedProductProperties(p.selectedProductProperties).setSelectedVariantProperties({allData:!0,displayName:!0}).setExplodedVariants(1).filters(_=>_.addProductIdFilter([o])).pagination(_=>_.setPageSize(1)).build(),D=p.getSearcher();e.value=(a=await D.searchProducts(m))==null?void 0:a.results[0],(c=e.value)!=null&&c.categoryPaths&&(v.value=((n=e.value)==null?void 0:n.categoryPaths[0].pathFromRoot)??[])}}x(),N(b,()=>{x()});function S(){e.value&&(P.addProduct({product:e.value,quantityDelta:1}),k.trackCart(P.model.value.lineItems))}return(o,a)=>{const c=h("relewise-purchased-with-product"),n=h("relewise-products-viewed-after-viewing-product"),m=h("relewise-product-recommendation-batcher");return s(),l("div",null,[e.value?(s(),l("div",O,[v.value?(s(),f(I,{key:0,breadcrumb:v.value,product:e.value},null,8,["breadcrumb","product"])):d("",!0),t("div",L,[t("div",$,[y(z,{product:e.value},null,8,["product"])]),t("div",q,[t("div",null,[t("h1",E,i(e.value.displayName),1),t("div",null,[a[0]||(a[0]=t("span",{class:"text-zinc-500"},"Product ID:",-1)),w(" "+i(e.value.productId),1)]),e.value.brand?(s(),l("div",T,[a[1]||(a[1]=t("span",{class:"text-zinc-500"},"Brand:",-1)),w(" "+i(e.value.brand.displayName),1)])):d("",!0),e.value.data&&e.value.data.Description&&e.value.data.Description.value?(s(),l("div",F,[t("span",R,i(e.value.data.Description.value),1)])):d("",!0)]),t("div",U,[t("div",j,[e.value.salesPrice!==e.value.listPrice?(s(),l("span",G,"ON SALE")):d("",!0),e.value.data&&e.value.data.SoldOut&&e.value.data.SoldOut.value===!0?(s(),l("span",H," SOLD OUT ")):d("",!0)]),t("p",null,[t("span",J,i(o.$format(e.value.salesPrice)),1),e.value.salesPrice!==e.value.listPrice?(s(),l("span",K,i(o.$format(e.value.listPrice)),1)):d("",!0)])]),t("div",{class:"text-left mt-3"},[t("button",{onClick:S}," Add to cart ")])])])])):d("",!0),y(m,null,{default:A(()=>[t("div",M,[a[2]||(a[2]=t("div",{class:"text-2xl mb-2 font-semibold"}," Purchased with the product ",-1)),(s(),f(c,{key:r.value,class:"grid grid-cols-2 lg:grid-cols-5","number-of-recommendations":"5","displayed-at-location":g.value.displayedAtLocation,"product-id":r.value},null,8,["displayed-at-location","product-id"]))]),t("div",Q,[a[3]||(a[3]=t("div",{class:"text-2xl mb-2 font-semibold"}," Products viewed after viewing the product ",-1)),(s(),f(n,{key:r.value,class:"grid grid-cols-2 lg:grid-cols-5","number-of-recommendations":"5","displayed-at-location":g.value.displayedAtLocation,"product-id":r.value},null,8,["displayed-at-location","product-id"]))])]),_:1})])}}});export{ee as default};
